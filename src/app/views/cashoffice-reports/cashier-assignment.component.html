<!-- Cashier Assignment - Cash Office Reports Module -->

<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> Cashier Assignment
        </div>

        <div class="card-body">
          <form [formGroup] = "cashierInput" (ngSubmit)="onSubmit()">
            <div class="form-row">
              <div class="col">

                <div class = "form-group row">
                  <label class="col-md-2 col-form-label" >Branch Code</label>
                  <div class = "col-md-4">
                    <select  class="form-control" id="selectBrCode" formControlName = "branchCode" (change)="getCashCodes()" required>
                      <option [ngValue]="bc" *ngFor="let bc of branchCodes">{{bc[0]}}</option>
                    </select>
                  </div>
                </div>

                <div class = "form-group row">
                  <label class="col-md-2 col-form-label" >Cash Office Code</label>
                  <div class = "col-md-4">
                    <select class="form-control" id="selectCOCode" formControlName = "cashOfficeCode">
                      <option [ngValue]="co" *ngFor="let co of cashCodes">{{co[0]}}</option>

                    </select>
                    <p *ngIf="errormsg"><span style="color: red">No cash office code!!</span></p>
                  </div>
                </div>

                <div class="btn-toolbar">
                  <div class="btn-group mr-2">
                    <button type="submit" class="btn btn-md btn-primary" [disabled]="!cashierInput.valid" >Report</button>
                  </div>

                  <div class="btn-group mr-2">
                    <button type="button" class="btn btn-md btn-primary" (click)="getAllreports()" >All Reports</button>
                  </div>
                </div>

            </div>

            </div>
          </form>

        </div>
      </div>
    </div>
  </div>

  <!-- Report/Results Container -->
  <div class="row" *ngIf="displayReport">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> <span style="color: blue; font-size: 10px" >Botswana Life Insurance Ltd</span> &nbsp; | <span style="font-size:10px">Collections</span>
        </div>
        <div class="card-header">
             Cashier Assignment
          </div>

        <div class="card-body">
          <div class="row">
            <div class="col-lg-12">

              <div class="row">
              <div class="col-lg-6 text-left">{{reportNumber}}</div>
              <div class="col-lg-6 text-right">{{currentDate | date: "d-MMM-y"}}</div>
            </div>

              <br>

              <p class="h4">Branch:&nbsp;{{branchName}} BRANCH</p>
              <p class="h4">Cash Office:&nbsp;{{cashOfficeDesc}}</p>

              <br>

              <!-- Payment Methods -->
              <p class="h6">Payment Methods</p>
              <table class="table table-bordered table-hover">
                <thead class="thead-light">
                  <tr>
                    <th>CODE</th>
                    <th>DESCRIPTION</th>
                    <th>START DATE</th>
                    <th>END DATE</th>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor="let pm of paymentMethod">
                    <td>{{pm.pay_method_code}}</td>
                    <td>{{pm.pay_method_desc}}</td>
                    <td>{{pm.pay_start_date}}</td>
                    <td>{{pm.pay_end_date}}</td>
                  </tr>
                </tbody>
              </table>

              <!-- Application -->
              <p class="h6">Application</p>
              <table class="table table-bordered table-hover">
                <thead class="thead-light">
                  <tr>
                    <th>CODE</th>
                    <th>DESCRIPTION</th>
                    <th>START DATE</th>
                    <th>END DATE</th>
                  </tr>
                </thead>

                <tbody>
                  <tr *ngFor = "let app of applications">
                    <td>{{app[0]}}</td>
                    <td>{{app[1]}}</td>
                    <td>{{app[2]}}</td>
                    <td>{{app[3]}}</td>
                  </tr>
                </tbody>
              </table>

              <!-- Cashiers -->
              <p class="h6">Cashiers</p>
              <table class="table table-bordered table-hover">
                <thead class="thead-light">
                  <tr>
                    <th>CASHIER ID</th>
                    <th>CASHIER NAME</th>
                    <th>Snr. CASHIER (Y/N)</th>
                    <th>START DATE</th>
                    <th>END DATE</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor = "let cashier of cashiers">
                    <td>{{cashier[0]}}</td>
                    <td>{{cashier[1]}}</td>
                    <td>{{cashier[2]}}</td>
                    <td>{{cashier[3]}}</td>
                    <td>{{cashier[4]}}</td>
                  </tr>
                </tbody>
              </table>

            </div>
          </div>

          <div class="row text-center btn-toolbar">
            <div class= "col-lg-12">
              <div class="btn-group mr-2">
                <button type="button" class="btn btn-md btn-primary">Print</button>
              </div>

              <div class="btn-group mr-2">
                  <button type="button" class="btn btn-md btn-primary" (click)="toggleDisplayReport()">Exit</button>
                </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
<div class = "row" *ngIf="displayAll">
  <div  *ngFor="let all of allReports">
    <ol> <li>{{all.branch_code}}</li></ol>

</div>
</div>
</div>
